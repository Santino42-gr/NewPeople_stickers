# New People Stickers Bot - Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# Server Configuration
# =============================================================================

# Port for the Express server (Railway sets this automatically in production)
PORT=3000

# Node.js environment (development, production, test)
NODE_ENV=development

# =============================================================================
# Telegram Bot Configuration
# =============================================================================

# Get this token from @BotFather on Telegram
# Required: Create a new bot and get the token
TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# Alternative name for the same variable (Railway compatibility)
BOT_TOKEN=your_telegram_bot_token

# Your Railway app URL (set this after deploying)
# Format: https://your-app-name.up.railway.app/webhook
TELEGRAM_WEBHOOK_URL=https://your-app.up.railway.app/webhook

# Alternative name for the same variable
WEBHOOK_URL=https://your-app.up.railway.app/webhook

# Optional: Secret token for webhook security (recommended for production)
TELEGRAM_WEBHOOK_SECRET=your_webhook_secret_token

# =============================================================================
# Piapi AI Configuration
# =============================================================================

# Get your API key from Piapi AI platform
# Required: Sign up at Piapi AI and get your API key
PIAPI_API_KEY=your_piapi_api_key

# Piapi API base URL (usually doesn't need to change)
PIAPI_BASE_URL=https://api.piapi.ai/api/v1

# =============================================================================
# Supabase Database Configuration
# =============================================================================

# Get these from your Supabase project dashboard
# Required: Create a Supabase project and get the URL and key
SUPABASE_URL=your_supabase_project_url
SUPABASE_ANON_KEY=your_supabase_anon_key

# Optional: Service role key for admin operations (if needed)
# SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# =============================================================================
# Application Configuration
# =============================================================================

# Maximum time for processing a single sticker pack (in milliseconds)
# Default: 10 minutes (600000ms)
MAX_PROCESSING_TIME=600000

# Interval for checking task status (in milliseconds)
# Default: 3 seconds (3000ms)
STATUS_CHECK_INTERVAL=3000

# Progress update interval for user notifications (in milliseconds)
# Default: 30 seconds (30000ms)
PROGRESS_UPDATE_INTERVAL=30000

# Maximum image size for upload (in bytes)
# Default: 10MB (10485760 bytes)
MAX_IMAGE_SIZE=10485760

# =============================================================================
# Security Configuration
# =============================================================================

# Optional: API key for admin endpoints (recommended for production)
API_KEY=your_admin_api_key

# Optional: Frontend URL for CORS (if you have a web frontend)
FRONTEND_URL=https://your-frontend-domain.com

# =============================================================================
# Rate Limiting Configuration (Optional - uses defaults if not set)
# =============================================================================

# Maximum messages per minute per user
# MESSAGES_PER_MINUTE=10

# Maximum requests per hour per user
# REQUESTS_PER_HOUR=60

# Maximum concurrent processing jobs
# CONCURRENT_PROCESSING=5

# =============================================================================
# Monitoring & Logging (Optional)
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Optional: External logging service URL
# LOG_SERVICE_URL=https://your-logging-service.com

# Optional: Error tracking service (like Sentry)
# ERROR_TRACKING_DSN=https://your-sentry-dsn

# =============================================================================
# Development Configuration
# =============================================================================

# Only used in development mode
# DEV_SKIP_AUTH=false
# DEV_MOCK_APIS=false

# =============================================================================
# Instructions:
# =============================================================================
# 1. Copy this file to .env
# 2. Replace all "your_*" values with actual credentials
# 3. Never commit .env file to git (it's in .gitignore)
# 4. Set environment variables in Railway dashboard for production
# 5. Test with: npm run validate-env

# =============================================================================
# Railway Deployment Notes:
# =============================================================================
# - Set these variables in Railway dashboard under "Variables" tab
# - PORT is automatically set by Railway
# - WEBHOOK_URL should match your Railway app domain
# - Use Railway's database if you want (or keep Supabase)
# - Railway will automatically restart on variable changes